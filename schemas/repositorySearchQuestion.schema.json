{
  "$ref": "#/definitions/RepositorySearchQuestion",
  "definitions": {
    "RepositorySearchQuestion": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "const": "repositorySearch"
        },
        "attributes": {
          "type": "object",
          "properties": {
            "label": {
              "type": "string"
            },
            "help": {
              "type": "string"
            },
            "labelTranslationKey": {
              "type": "string"
            }
          },
          "additionalProperties": false,
          "default": {}
        },
        "meta": {
          "type": "object",
          "properties": {
            "schemaVersion": {
              "type": "string",
              "default": "1.0"
            },
            "title": {
              "type": "string"
            },
            "usageDescription": {
              "type": "string"
            }
          },
          "additionalProperties": false,
          "default": {}
        },
        "graphQL": {
          "type": "object",
          "properties": {
            "displayFields": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "propertyName": {
                    "type": "string",
                    "default": "id"
                  },
                  "label": {
                    "type": "string",
                    "default": "Id"
                  },
                  "labelTranslationKey": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              },
              "default": [
                {
                  "propertyName": "name",
                  "label": "Name"
                },
                {
                  "propertyName": "description",
                  "label": "Description"
                },
                {
                  "propertyName": "website",
                  "label": "Website"
                },
                {
                  "propertyName": "keywords",
                  "label": "Keywords"
                }
              ]
            },
            "localQueryId": {
              "type": "string"
            },
            "query": {
              "type": "string",
              "const": "query Repositories($term: String, $researchDomainId: Int, $repositoryType: String, $paginationOptions: PaginationOptions){ repositories(term: $term, researchDomainId: $researchDomainId, repositoryType: $repositoryType, paginationOptions: $paginationOptions) { totalCount currentOffset limit hasNextPage hasPreviousPage availableSortFields items { id name uri description website researchDomains { id name uri } keywords repositoryTypes } } }",
              "default": "query Repositories($term: String, $researchDomainId: Int, $repositoryType: String, $paginationOptions: PaginationOptions){ repositories(term: $term, researchDomainId: $researchDomainId, repositoryType: $repositoryType, paginationOptions: $paginationOptions) { totalCount currentOffset limit hasNextPage hasPreviousPage availableSortFields items { id name uri description website researchDomains { id name uri } keywords repositoryTypes } } }"
            },
            "responseField": {
              "type": "string",
              "const": "repositories.items",
              "default": "repositories.items"
            },
            "variables": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "minLength": {
                    "type": "number"
                  },
                  "label": {
                    "type": "string"
                  },
                  "labelTranslationKey": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string",
                    "default": "search"
                  },
                  "type": {
                    "type": "string",
                    "default": "string"
                  },
                  "defaultValue": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              },
              "default": [
                {
                  "minLength": 3,
                  "label": "Search for a repository",
                  "name": "term",
                  "type": "string"
                },
                {
                  "minLength": 3,
                  "label": "Research domain",
                  "name": "researchDomainId",
                  "type": "string"
                },
                {
                  "minLength": 3,
                  "label": "Repository type",
                  "name": "repositoryType",
                  "type": "string"
                },
                {
                  "label": "Pagination Options",
                  "name": "paginationOptions",
                  "type": "paginationOptions",
                  "options": {
                    "type": "OFFSET",
                    "limit": 10,
                    "offset": 0,
                    "sortField": "name",
                    "sortOrder": "ASC"
                  }
                }
              ]
            },
            "queryId": {
              "type": "string",
              "default": "useRepositoriesQuery"
            },
            "answerField": {
              "type": "string",
              "const": "uri",
              "default": "uri"
            }
          },
          "additionalProperties": false,
          "default": {}
        }
      },
      "required": [
        "type"
      ],
      "additionalProperties": false
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#"
}